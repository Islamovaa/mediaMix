{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nlet HomeComponent = class HomeComponent {\n  constructor(mediaService) {\n    this.mediaService = mediaService;\n    this.mediaList = [];\n    this.showModal = false;\n    this.newMedium = {\n      title: '',\n      category: '',\n      status: false,\n      rating: null,\n      comment: ''\n    };\n    this.customFields = [];\n  }\n  ngOnInit() {\n    this.loadMedia();\n  }\n  loadMedia() {\n    this.mediaService.getAllMedia().subscribe({\n      next: data => {\n        this.mediaList = data;\n      },\n      error: err => {\n        console.error('Fehler beim Laden der Medien:', err);\n      }\n    });\n  }\n  getKeys(obj) {\n    return Object.keys(obj);\n  }\n  getCategoryClass(category) {\n    return category?.trim().toLowerCase().replace(/\\s+/g, '-') || '';\n  }\n  editMedium(medium) {\n    console.log(\"Medium bearbeiten:\", medium);\n  }\n  deleteMedium(id) {\n    console.log(\"Medium löschen ID:\", id);\n  }\n  openModal() {\n    console.log(\"Modal öffnen\");\n    this.showModal = true;\n  }\n  closeModal() {\n    this.showModal = false;\n    this.resetForm();\n  }\n  addCustomField() {\n    this.customFields.push({\n      key: '',\n      value: ''\n    });\n  }\n  toggleStatus(status) {\n    this.newMedium.status = status;\n    if (status !== 'erledigt') {\n      this.newMedium.rating = null;\n      this.newMedium.comment = '';\n    }\n  }\n  onSubmit() {\n    const fullMedium = {\n      title: this.newMedium.title,\n      category: this.newMedium.category,\n      status: this.newMedium.status\n    };\n    // Nur wenn erledigt, Bewertung & Kommentar hinzufügen\n    if (this.newMedium.status === 'erledigt') {\n      fullMedium.rating = this.newMedium.rating;\n      fullMedium.comment = this.newMedium.comment;\n    }\n    // Dynamische Felder in extra Objekt packen\n    const dynamicFields = {};\n    this.customFields.forEach(field => {\n      if (field.key && field.value) {\n        dynamicFields[field.key] = field.value;\n      }\n    });\n    fullMedium.dynamicFields = dynamicFields;\n    this.mediaService.createMedia(fullMedium).subscribe({\n      next: savedMedium => {\n        this.mediaList.push(savedMedium);\n        this.closeModal();\n        this.loadMedia();\n      },\n      error: err => {\n        console.error('Fehler beim Speichern des Mediums:', err);\n      }\n    });\n  }\n  resetForm() {\n    this.newMedium = {\n      title: '',\n      category: '',\n      status: false,\n      rating: null,\n      comment: ''\n    };\n    this.customFields = [];\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  standalone: true,\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n  imports: [CommonModule, FormsModule]\n})], HomeComponent);\nexport { HomeComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","HomeComponent","constructor","mediaService","mediaList","showModal","newMedium","title","category","status","rating","comment","customFields","ngOnInit","loadMedia","getAllMedia","subscribe","next","data","error","err","console","getKeys","obj","Object","keys","getCategoryClass","trim","toLowerCase","replace","editMedium","medium","log","deleteMedium","id","openModal","closeModal","resetForm","addCustomField","push","key","value","toggleStatus","onSubmit","fullMedium","dynamicFields","forEach","field","createMedia","savedMedium","__decorate","selector","standalone","templateUrl","styleUrls","imports"],"sources":["C:\\Users\\liana\\mediaMix\\frontend\\src\\app\\home\\home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { MediaService } from '../shared/media.service';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  standalone: true,\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css'],\r\n  imports: [CommonModule, FormsModule]\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  mediaList: any[] = [];\r\n  showModal = false;\r\n\r\n  newMedium: any = {\r\n    title: '',\r\n    category: '',\r\n    status: false,\r\n    rating: null,\r\n    comment: ''\r\n  };\r\n\r\n  customFields: { key: string, value: string }[] = [];\r\n\r\n  constructor(private mediaService: MediaService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadMedia();\r\n  }\r\n\r\n  loadMedia(): void {\r\n    this.mediaService.getAllMedia().subscribe({\r\n      next: (data) => {\r\n        this.mediaList = data;\r\n      },\r\n      error: (err) => {\r\n        console.error('Fehler beim Laden der Medien:', err);\r\n      }\r\n    });\r\n  }\r\n\r\n  getKeys(obj: any): string[] {\r\n    return Object.keys(obj);\r\n  }\r\n\r\n  getCategoryClass(category: string | undefined): string {\r\n    return category?.trim().toLowerCase().replace(/\\s+/g, '-') || '';\r\n  }\r\n\r\n  editMedium(medium: any): void {\r\n    console.log(\"Medium bearbeiten:\", medium);\r\n  }\r\n\r\n  deleteMedium(id: string): void {\r\n    console.log(\"Medium löschen ID:\", id);\r\n  }\r\n\r\n  openModal(): void {\r\n    console.log(\"Modal öffnen\");\r\n    this.showModal = true;\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.showModal = false;\r\n    this.resetForm();\r\n  }\r\n\r\n  addCustomField(): void {\r\n    this.customFields.push({ key: '', value: '' });\r\n  }\r\n\r\n  toggleStatus(status: string): void {\r\n    this.newMedium.status = status;\r\n  \r\n    if (status !== 'erledigt') {\r\n      this.newMedium.rating = null;\r\n      this.newMedium.comment = '';\r\n    }\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const fullMedium: any = {\r\n      title: this.newMedium.title,\r\n      category: this.newMedium.category,\r\n      status: this.newMedium.status\r\n    };\r\n  \r\n    // Nur wenn erledigt, Bewertung & Kommentar hinzufügen\r\n    if (this.newMedium.status === 'erledigt') {\r\n      fullMedium.rating = this.newMedium.rating;\r\n      fullMedium.comment = this.newMedium.comment;\r\n    }\r\n  \r\n    // Dynamische Felder in extra Objekt packen\r\n    const dynamicFields: any = {};\r\n    this.customFields.forEach(field => {\r\n      if (field.key && field.value) {\r\n        dynamicFields[field.key] = field.value;\r\n      }\r\n    });\r\n  \r\n    fullMedium.dynamicFields = dynamicFields;\r\n  \r\n    this.mediaService.createMedia(fullMedium).subscribe({\r\n      next: (savedMedium) => {\r\n        this.mediaList.push(savedMedium);\r\n        this.closeModal();\r\n        this.loadMedia();\r\n      },\r\n      error: (err) => {\r\n        console.error('Fehler beim Speichern des Mediums:', err);\r\n      }\r\n    });\r\n  }\r\n  \r\n\r\n  resetForm(): void {\r\n    this.newMedium = {\r\n      title: '',\r\n      category: '',\r\n      status: false,\r\n      rating: null,\r\n      comment: ''\r\n    };\r\n    this.customFields = [];\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}